<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>El Tío Viruelas</title>
  <link href="https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      background-color: #111;
      font-family: 'Rock Salt', cursive;
      color: #C88713;
      overflow-x: hidden;
      text-align: center;
    }

    header {
      font-size: clamp(2rem, 4vw, 5rem);
      font-weight: bold;
      margin-top: 3vh;
    }

    .tocadiscos {
      position: relative;
      width: clamp(300px, 40vw, 450px);
      height: clamp(300px, 40vw, 450px);
      margin: 5vh auto;
    }

    .vinilo {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: repeating-radial-gradient(circle, #000 0px, #111 2px, #000 4px);
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      animation: girar 8s linear infinite;
    }

    .vinilo.rapido {
      animation: girar 4s linear infinite;
    }

    @keyframes girar {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .galleta {
      width: 40%;
      height: 40%;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #C88713;
      z-index: 2;
      animation: girar 8s linear infinite;
    }

    .galleta.rapido {
      animation: girar 4s linear infinite;
    }

    .agujero {
      position: absolute;
      width: 5%;
      height: 5%;
      background: #000;
      border-radius: 50%;
      z-index: 3;
    }

    .brazo {
      position: absolute;
      top: 5%;
      right: -15%;
      width: 35%;
      transition: transform 1s ease;
    }

    .brazo.activo {
      transform: rotate(20deg) translate(-10%, 20%);
    }

    .galeria {
      display: flex;
      overflow-x: auto;
      gap: -30px;
      padding: 20px;
      justify-content: center;
    }

    .galeria img {
      width: clamp(100px, 15vw, 180px);
      height: clamp(115px, 17vw, 200px);
      border-radius: 5px;
      object-fit: cover;
      cursor: pointer;
      border: 3px solid #000;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.7);
      transition: transform 0.3s ease;
      margin-left: -20px;
    }

    .galeria img:hover {
      transform: scale(1.05);
      z-index: 2;
    }

    audio {
      margin-top: 20px;
    }

    #info-disco {
      margin-top: 15px;
      font-family: sans-serif;
      color: #eee;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }
  </style>
</head>
<body>

  <header>El Tío Viruelas</header>

  <div class="tocadiscos">
    <img src="img/tocadiscos.png" class="brazo" id="brazo" alt="Brazo del tocadiscos">
    <div class="vinilo" id="vinilo">
      <img id="galleta" class="galleta" src="img/logo.jpeg" alt="Logo del disco">
      <div class="agujero"></div>
    </div>
  </div>

  <div class="galeria">
    <img src="img/Vol I.jpg" data-img="img/Vol I.jpg" data-song="El camino largo.mp3" data-info="Vol I.txt" alt="Volumen I">
    <img src="img/Vol II.jpg" data-img="img/Vol II.jpg" data-song="cancion2.mp3" data-info="Vol II.txt" alt="Volumen II">
    <img src="img/Vol III.jpg" data-img="img/Vol III.jpg" data-song="cancion3.mp3" data-info="Vol III.txt" alt="Volumen III">
    <img src="img/Vol IV.jpg" data-img="img/Vol IV.jpg" data-song="cancion4.mp3" data-info="Vol IV.txt" alt="Volumen IV">
  </div>

  <audio id="player" controls></audio>

  <div id="info-disco">Selecciona un disco para ver información.</div>

  <script>
    const portadas = document.querySelectorAll('.galeria img');
    const galleta = document.getElementById('galleta');
    const vinilo = document.getElementById('vinilo');
    const brazo = document.getElementById('brazo');
    const player = document.getElementById('player');
    const infoDisco = document.getElementById('info-disco');

    portadas.forEach(portada => {
      portada.addEventListener('click', () => {
        // Cambiar galleta
        galleta.src = portada.dataset.img;

        // Activar brazo
        brazo.classList.add('activo');

        // Acelerar vinilo y galleta
        vinilo.classList.add('rapido');
        galleta.classList.add('rapido');

        // Reproducir canción
        player.src = portada.dataset.song;
        player.play();

        // Cargar info desde txt (requiere servidor que sirva los txt)
        fetch(portada.dataset.info)
          .then(response => response.text())
          .then(text => {
            infoDisco.innerText = text;
          })
          .catch(() => {
            infoDisco.innerText = "Información no disponible.";
          });
      });
    });
  </script>

</body>
</html>
